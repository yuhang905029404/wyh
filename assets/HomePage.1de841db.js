import{C as T}from"./Common.db6123d2.js";import{P as z}from"./Pager.9f88eada.js";import{f as L,r as C,o as r,c as u,d as t,h,S as N,t as b,b as p,w as B,s as w,_ as S,H as A,u as D,i as y,U as F,F as R,D as V,g as I,A as P,n as q,q as H}from"./app.cc8d4ab6.js";import{f as E}from"./resolveTime.8af9c44f.js";const j={class:"post-item"},O=["src"],U={class:"else"},G={class:"post-item__date"},J={key:0},K=["innerHTML"],Q=L({__name:"PostListItem",props:{item:{type:Object,required:!0}},setup(a){const c=e=>e.replace(/<RouterLink to/g,"<a href").replace(/<\/RouterLink>/g,"</a>");return(e,i)=>{const d=C("RouterLink");return r(),u("div",j,[t("div",{class:"post-item__img",onClick:i[0]||(i[0]=f=>e.$router.push(a.item.path))},[t("img",{src:h(N)(a.item.info.headerImage)},null,8,O)]),t("div",U,[t("p",G,b(a.item.info.date?h(E)(a.item.info.date):""),1),p(d,{to:a.item.path,class:"post-item__title"},{default:B(()=>[t("h2",null,b(a.item.info.title),1),a.item.info.subtitle?(r(),u("h3",J,b(a.item.info.subtitle),1)):w("",!0)]),_:1},8,["to"]),t("div",{class:"post-item__content",innerHTML:c(a.item.info.excerpt||"")},null,8,K)])])}}});var W=S(Q,[["__file","PostListItem.vue"]]);const X={class:"postlist-wrapper"},Y=L({__name:"PostList",setup(a){const c=A(),e=D(),i=y(()=>{const n=decodeURI(c.currentRoute.value.path.replace(/\/page/g,"").replace(/\//g,""));return n===""?1:Number(n)}),{slicedPosts:d,postListPager:f}=F(i),m=y(()=>{const n=f.value,s=n&&n.next?{text:e.value.homeNext,link:n.next}:null,l=n&&n.prev?{text:e.value.homePrev,link:n.prev}:null;return{next:s,prev:l}});return(n,s)=>(r(),u("div",X,[(r(!0),u(R,null,V(h(d),l=>(r(),I(W,{key:l.path,item:l},null,8,["item"]))),128)),m.value.next||m.value.prev?(r(),I(z,{key:0,data:m.value},null,8,["data"])):w("",!0)]))}});var Z=S(Y,[["__file","PostList.vue"]]);const ee={class:"sns-wrapper"},te=["href"],oe=L({__name:"SNS",props:{large:{type:Boolean,default:!0}},setup(a){var n;const c={github:{icon:"fa-github-alt",preLink:"https://github.com/"},linkedin:{icon:"fa-linkedin-in",preLink:"https://www.linkedin.com/in/"},facebook:{icon:"fa-facebook-f",preLink:"https://www.facebook.com/"},twitter:{icon:"fa-twitter",preLink:"https://www.twitter.com/"},zhihu:{icon:"ri-zhihu-line",preLink:"https://www.zhihu.com/people/"},weibo:{icon:"ri-weibo-fill",preLink:"http://weibo.com/u/"},email:{icon:"fa-envelope",preLink:"mailto:"},rss:{icon:"ri-rss-fill",preLink:"",iconScale:.9}},i=(n=D().value.personalInfo)==null?void 0:n.sns,d=(s,l)=>typeof s=="string"?c[l].preLink+s:s.link,f=(s,l)=>typeof s=="string"?c[l].icon:s.icon,m=(s,l)=>(typeof s=="string"?c[l].iconScale:s.iconScale)||1;return(s,l)=>{const g=C("VIcon");return r(),u("div",ee,[(r(!0),u(R,null,V(h(i),(k,v)=>(r(),u("a",{key:`${v}-${k}`,href:d(k,v),target:"_blank",rel:"noopener noreferrer"},[p(g,{class:"icon-stack"},{default:B(()=>[a.large?(r(),I(g,{key:0,name:"fa-circle",scale:"2.3",class:"icon-circle"})):w("",!0),p(g,{name:f(k,v),scale:m(k,v),class:"icon-sns",inverse:""},null,8,["name","scale"])]),_:2},1024)],8,te))),128))])}}});var ne=S(oe,[["__file","SNS.vue"]]);const se={class:"home-blog"},ae=["src"],ie={key:0,class:"hero-bubble"},re={class:"hero-bubble__body"},le={class:"hero-info"},ce={class:"description"},ue=L({__name:"Home",setup(a){const c=D(),e=c.value.homeHeaderImages,i=P(-1),d=P(1),f=()=>{window.scrollTo({top:document.querySelector(".hero").clientHeight,behavior:"smooth"})},m=c.value.hitokoto,n=P("\u6B63\u5728\u52A0\u8F7D\u4E00\u8A00...");let s=!1;const l=()=>{if(!m||s)return;s=!0;let _=m;_=typeof _=="string"?_:"https://v1.hitokoto.cn",fetch(_).then(o=>o.json()).then(o=>n.value=o.hitokoto).catch(o=>{console.log(`Get ${_} error: `,o)})};q(()=>{e&&e.length>0&&(i.value=Math.floor(Math.random()*e.length))});const g=_=>{if(!(e&&e.length>0))return;const o=e.length;i.value=(i.value+_+o)%o},k=y(()=>e&&e.length>0&&i.value!==-1?`url(${N(e[i.value].path)})`:"none"),v=y(()=>e&&e.length>0&&i.value!==-1?e[i.value].mask:null),$=c.value.personalInfo;return(_,o)=>{const x=C("VIcon");return r(),u("main",se,[t("div",{class:"hero",style:H({"background-image":k.value})},[v.value?(r(),u("div",{key:0,class:"hero-mask",style:H({background:v.value})},null,4)):w("",!0),t("div",{class:"hero-content",style:H({opacity:d.value})},[t("img",{class:"hero-avatar hide-on-mobile",src:h(N)(h($).avatar),alt:"hero",onMouseover:l},null,40,ae),h(m)?(r(),u("div",ie,[t("div",re,[t("p",null,b(n.value),1)]),o[3]||(o[3]=t("div",{class:"hero-bubble__tile"},null,-1))])):w("",!0),t("div",le,[t("h1",null,b(h($).name),1),t("p",ce,b(h($).description),1)]),p(ne,{class:"hide-on-mobile",large:""}),t("button",{class:"hero-img-prev hide-on-mobile",onClick:o[0]||(o[0]=M=>g(-1))},[p(x,{name:"fa-chevron-left"})]),t("button",{class:"hero-img-next hide-on-mobile",onClick:o[1]||(o[1]=M=>g(1))},[p(x,{name:"fa-chevron-right"})]),t("span",{class:"hero-arrow-down hide-on-mobile",onClick:o[2]||(o[2]=M=>f())},[p(x,{name:"fa-chevron-down",animation:"float"})])],4)],4),p(Z)])}}});var me=S(ue,[["__file","Home.vue"]]);const he=L({__name:"HomePage",setup(a){return(c,e)=>(r(),I(T,null,{page:B(()=>[p(me)]),_:1}))}});var fe=S(he,[["__file","HomePage.vue"]]);export{fe as default};
